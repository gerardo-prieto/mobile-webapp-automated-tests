var webdriverjs = require('../index'),
    chai        = require('chai'),
    assert      = chai.assert,
    expect      = chai.expect,
    assert      = require('assert');



describe('my webdriverjs tests', function(){

    this.timeout(99999999);
    var client = {};

    before(function(done){
            client = webdriverjs.remote({ desiredCapabilities: {
                browserName: 'chrome',
                name: 'MyFirstTest'
            } });
            client.init(done);
    });

    it('ARWEN - Search Ad and open it',function(done) {
        client
            .url('http://m.olx.com.py:3030')
            .setCookie({name: 'forcedPlatform', value: 'html4'})
            .url('http://m.olx.com.py:3030')
            .setValue('*[data-qa="search-input"]','a')
            .click('*[data-qa="search-submit"]')
            .click('[data-qa=list-item]')
            .getAttribute('[data-qa=item]', 'data-qa', function(err, result) {
               assert.equal(null, err);
               expect(result).to.not.equal('');
            })
            .call(done);
    });



    after(function(done) {
        client.end(done);
    });
});
